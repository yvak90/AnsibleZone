---
- name: Installing tomcat
  hosts: appservers
  become: yes
  tasks:
  - name: Install open jdk
    apt:
      name: openjdk-8-jdk
      update_cache: yes
      state: present
    when: ansible_facts['distribution'] == "Ubuntu"
  - name: Adding group
    group:
      name: tomcat
      state: present
  - name: Adding user
    user:
      name: tomcat
      create_home: yes
      home: /opt/tomcat
      shell: /bin/false
      group: tomcat
      state: present
    when: ansible_facts['distribution'] == "Ubuntu"
    